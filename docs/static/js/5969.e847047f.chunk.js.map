{"version":3,"file":"static/js/5969.e847047f.chunk.js","mappings":"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","sources":["svgedit/editor/extensions/ext-shapes/ext-shapes.js","svgedit/editor/extensions/ext-shapes/locale|lazy|/^/.//.*/.js$/|groupOptions: {}|namespace object"],"sourcesContent":["/**\n * @file ext-shapes.js\n *\n * @license MIT\n *\n * @copyright 2010 Christian Tzurcanu, 2010 Alexis Deveria\n *\n */\nconst name = 'shapes'\n\nconst loadExtensionTranslation = async function (svgEditor) {\n  let translationModule\n  const lang = svgEditor.configObj.pref('lang')\n  try {\n    translationModule = await import(`./locale/${lang}.js`)\n  } catch (_error) {\n    console.warn(`Missing translation (${lang}) for ${name} - using 'en'`)\n    translationModule = await import('./locale/en.js')\n  }\n  svgEditor.i18next.addResourceBundle(lang, name, translationModule.default)\n}\n\nexport default {\n  name,\n  async init () {\n    const svgEditor = this\n    const canv = svgEditor.svgCanvas\n    const { $id, $click } = canv\n    const svgroot = canv.getSvgRoot()\n    let lastBBox = {}\n    await loadExtensionTranslation(svgEditor)\n\n    const modeId = 'shapelib'\n    const startClientPos = {}\n\n    let curShape\n    let startX\n    let startY\n\n    return {\n      callback () {\n        if ($id('tool_shapelib') === null) {\n          const extPath = svgEditor.configObj.curConfig.extPath\n          const buttonTemplate = `\n          <se-explorerbutton id=\"tool_shapelib\" title=\"${svgEditor.i18next.t(`${name}:buttons.0.title`)}\" lib=\"${extPath}/ext-shapes/shapelib/\"\n          src=\"shapelib.svg\"></se-explorerbutton>\n          `\n          canv.insertChildAtIndex($id('tools_left'), buttonTemplate, 9)\n          $click($id('tool_shapelib'), () => {\n            if (this.leftPanel.updateLeftPanel('tool_shapelib')) {\n              canv.setMode(modeId)\n            }\n          })\n        }\n      },\n      mouseDown (opts) {\n        const mode = canv.getMode()\n        if (mode !== modeId) { return undefined }\n\n        const currentD = document.getElementById('tool_shapelib').dataset.draw\n        startX = opts.start_x\n        const x = startX\n        startY = opts.start_y\n        const y = startY\n        const curStyle = canv.getStyle()\n\n        startClientPos.x = opts.event.clientX\n        startClientPos.y = opts.event.clientY\n\n        curShape = canv.addSVGElementsFromJson({\n          element: 'path',\n          curStyles: true,\n          attr: {\n            d: currentD,\n            id: canv.getNextId(),\n            opacity: curStyle.opacity / 2,\n            style: 'pointer-events:none'\n          }\n        })\n\n        curShape.setAttribute('transform', 'translate(' + x + ',' + y + ') scale(0.005) translate(' + -x + ',' + -y + ')')\n\n        canv.recalculateDimensions(curShape)\n\n        lastBBox = curShape.getBBox()\n\n        return {\n          started: true\n        }\n      },\n      mouseMove (opts) {\n        const mode = canv.getMode()\n        if (mode !== modeId) { return }\n\n        const zoom = canv.getZoom()\n        const evt = opts.event\n\n        const x = opts.mouse_x / zoom\n        const y = opts.mouse_y / zoom\n\n        const tlist = curShape.transform.baseVal\n        const box = curShape.getBBox()\n        const left = box.x; const top = box.y\n\n        const newbox = {\n          x: Math.min(startX, x),\n          y: Math.min(startY, y),\n          width: Math.abs(x - startX),\n          height: Math.abs(y - startY)\n        }\n\n        let sx = (newbox.width / lastBBox.width) || 1\n        let sy = (newbox.height / lastBBox.height) || 1\n\n        // Not perfect, but mostly works...\n        let tx = 0\n        if (x < startX) {\n          tx = lastBBox.width\n        }\n        let ty = 0\n        if (y < startY) {\n          ty = lastBBox.height\n        }\n\n        // update the transform list with translate,scale,translate\n        const translateOrigin = svgroot.createSVGTransform()\n        const scale = svgroot.createSVGTransform()\n        const translateBack = svgroot.createSVGTransform()\n\n        translateOrigin.setTranslate(-(left + tx), -(top + ty))\n        if (!evt.shiftKey) {\n          const max = Math.min(Math.abs(sx), Math.abs(sy))\n\n          sx = max * (sx < 0 ? -1 : 1)\n          sy = max * (sy < 0 ? -1 : 1)\n        }\n        scale.setScale(sx, sy)\n\n        translateBack.setTranslate(left + tx, top + ty)\n        tlist.appendItem(translateBack)\n        tlist.appendItem(scale)\n        tlist.appendItem(translateOrigin)\n\n        canv.recalculateDimensions(curShape)\n\n        lastBBox = curShape.getBBox()\n      },\n      mouseUp (opts) {\n        const mode = canv.getMode()\n        if (mode !== modeId) { return undefined }\n\n        const keepObject = (opts.event.clientX !== startClientPos.x && opts.event.clientY !== startClientPos.y)\n\n        return {\n          keep: keepObject,\n          element: curShape,\n          started: false\n        }\n      }\n    }\n  }\n}\n","var map = {\n\t\"./en.js\": [\n\t\t1706,\n\t\t1706\n\t],\n\t\"./fr.js\": [\n\t\t1999,\n\t\t1999\n\t],\n\t\"./sv.js\": [\n\t\t7272,\n\t\t7272\n\t],\n\t\"./tr.js\": [\n\t\t7162,\n\t\t7162\n\t],\n\t\"./uk.js\": [\n\t\t6408,\n\t\t6408\n\t],\n\t\"./zh-CN.js\": [\n\t\t369,\n\t\t369\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 1551;\nmodule.exports = webpackAsyncContext;"],"names":["name","init","svgEditor","this","canv","svgCanvas","$id","$click","svgroot","getSvgRoot","lastBBox","async","translationModule","lang","configObj","pref","concat","_error","console","warn","i18next","addResourceBundle","default","loadExtensionTranslation","modeId","startClientPos","curShape","startX","startY","callback","extPath","curConfig","buttonTemplate","t","insertChildAtIndex","leftPanel","updateLeftPanel","setMode","mouseDown","opts","getMode","currentD","document","getElementById","dataset","draw","start_x","x","start_y","y","curStyle","getStyle","event","clientX","clientY","addSVGElementsFromJson","element","curStyles","attr","d","id","getNextId","opacity","style","setAttribute","recalculateDimensions","getBBox","started","mouseMove","zoom","getZoom","evt","mouse_x","mouse_y","tlist","transform","baseVal","box","left","top","newbox","Math","min","abs","sx","width","sy","height","tx","ty","translateOrigin","createSVGTransform","scale","translateBack","setTranslate","shiftKey","max","setScale","appendItem","mouseUp","keep","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","keys","Object","module","exports"],"sourceRoot":""}